{
	"name": "assistant-desktop",
	"$schema": "../../node_modules/nx/schemas/project-schema.json",
	"sourceRoot": "packages/assistant-desktop/src",
	"projectType": "application",
	"implicitDependencies": [
      "assistant"
    ],
	"targets": {
		"dev": {
			"executor": "nx:run-commands",
        	"options": {
				"cwd": "packages/assistant-desktop",
				"command": "npm run tauri dev"
			}
		},
		"lint": {
			"executor": "nx:run-commands",
        	"options": {
				"cwd": "packages/assistant-desktop",
				"command": "npm run check"
			}
		},
		"build": {
			"executor": "nx:run-commands",
        	"options": {
				"cwd": "packages/assistant-desktop",
				"command": "npm run tauri build"
			}
		},
		"semantic-release": {
          "executor": "@theunderscorer/nx-semantic-release:semantic-release",
          "options": {
            "commitMessage": "release(assistant-desktop): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}",
            "plugins": [
              [
                "@google/semantic-release-replace-plugin",
                {
                  "replacements": [
                    {
                      "files": [
                        "packages/assistant-desktop/package.json"
                      ],
                      "from": "\"version\": \".*\"",
                      "to": "\"version\": \"${nextRelease.version}\"",
                      "results": [
                        {
                          "file": "packages/assistant-desktop/package.json",
                          "hasChanged": true,
                          "numMatches": 1,
                          "numReplacements": 1
                        }
                      ],
                      "countMatches": true
                    },
                    {
                      "files": [
                        "packages/assistant-desktop/src-tauri/Cargo.toml"
                      ],
                      "from": "^version = \".*\"",
                      "to": "version = \"${nextRelease.version}\"",
                      "results": [
                        {
                          "file": "packages/assistant-desktop/src-tauri/Cargo.toml",
                          "hasChanged": true,
                          "numMatches": 1,
                          "numReplacements": 1
                        }
                      ],
                      "countMatches": true
                    }
                  ]
                }
              ],
              [
                "@semantic-release/github",
                {
                  "successComment": false,
                  "failComment": false,
                  "assets": [
                    {
                      "path": "packages/assistant-desktop/src-tauri/target/release/windows/uuv-assistant-desktop.exe",
                      "label": "Windows Desktop"
                    },
                    {
                      "path": "packages/assistant-desktop/src-tauri/target/release/ubuntu/deb/*.deb",
                      "label": "Debian package"
                    },
                    {
                      "path": "packages/assistant-desktop/src-tauri/target/release/ubuntu/appimage/*.AppImage",
                      "label": "AppImage package"
                    }
                  ]
                }
              ]
            ]
          }
        }
	}
}